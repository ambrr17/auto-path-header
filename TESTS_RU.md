# Инструкция: как запускать тесты

Проект использует unit-тесты на Mocha без запуска VS Code. Тестируются чистые функции.

## Предварительные требования
- Node.js установлен
- Установлены зависимости проекта

## Установка зависимостей
```bash
npm install
```

## Сборка TypeScript
Перед запуском тестов необходимо скомпилировать исходники в `dist`:
```bash
npm run compile
```

Примечание для PowerShell: выполняйте команды по отдельности (не используйте `&&`).

## Запуск тестов
```bash
npm test
```
Скрипт запускает Mocha с тестами из каталога `dist/test/**/*.test.js`.

## Где расположены тесты
- Тесты к функциям расширения: `src/test/extension.test.ts`
- Тесты локализации: `src/test/localization.test.ts`
- Тестовый раннер Mocha: `src/test/suite/index.ts`
- Точка входа (для интеграционных тестов VS Code не используется)

## Частые проблемы и решения
- «Cannot find module 'vscode'»: тесты должны обращаться к чистым функциям из `src/utils/comments.ts`, а не импортировать весь `extension.ts`.
- «suite is not defined»: запускайте Mocha с интерфейсом TDD — используется в скрипте `npm test`.
- PowerShell не принимает `&&`: запускайте `npm run compile` и `npm test` отдельными командами.

## Рекоммендации
- После изменения исходников TypeScript всегда выполняйте `npm run compile` перед `npm test`.
- Добавляйте новые тесты рядом с существующими файлами в `src/test/` с суффиксом `.test.ts`.
